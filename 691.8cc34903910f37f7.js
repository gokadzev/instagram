"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[691],{691:(J,d,l)=>{l.r(d),l.d(d,{ProfilePageModule:()=>S});var a=l(177),m=l(9417),e=l(2608),_=l(1470),f=l(467),h=l(2796),n=l(4438),p=l(7408);function P(o,r){if(1&o){const t=n.RV6();n.j41(0,"ion-item",4),n.bIt("click",function(){n.eBV(t);const c=n.XpG();return n.Njj(c.modalCtrl.dismiss())}),n.nrm(1,"ion-icon",5),n.j41(2,"ion-label"),n.EFF(3),n.k0s()()}if(2&o){const t=r.$implicit;n.Y8G("routerLink",null==t?null:t.redirectTo),n.R7$(),n.Y8G("name",null==t?null:t.icon),n.R7$(2),n.JRh(null==t?null:t.label)}}let u=(()=>{class o{constructor(t,i){this.modalCtrl=t,this.translate=i,this.options=[{icon:"settings-sharp",label:this.translate.instant("Settings"),redirectTo:"/p/settings/"},{icon:"archive-outline",label:this.translate.instant("Archive"),redirectTo:""},{icon:"bar-chart-outline",label:this.translate.instant("Insights"),redirectTo:""},{icon:"time-outline",label:this.translate.instant("Your activity"),redirectTo:""},{icon:"qr-code-outline",label:this.translate.instant("QR Code"),redirectTo:""},{icon:"bookmark-outline",label:this.translate.instant("Saved"),redirectTo:""},{icon:"list-outline",label:this.translate.instant("Close friends"),redirectTo:""},{icon:"person-add-outline",label:this.translate.instant("Discover people"),redirectTo:""},{icon:"heart-circle-outline",label:this.translate.instant("COVID-19 Information Centre"),redirectTo:""}]}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||o)(n.rXU(e.W3),n.rXU(p.c$))}}static{this.\u0275cmp=n.VBU({type:o,selectors:[["app-option"]],standalone:!0,features:[n.aNF],decls:6,vars:1,consts:[[1,"ion-no-border"],["fill","clear","expand","full",1,"ion-text-center"],[1,"drawer-pull",3,"click"],["class","ion-margin-bottom",3,"routerLink","click",4,"ngFor","ngForOf"],[1,"ion-margin-bottom",3,"click","routerLink"],["color","dark","slot","start",3,"name"]],template:function(i,c){1&i&&(n.j41(0,"ion-header",0)(1,"ion-button",1)(2,"div",2),n.bIt("click",function(){return c.modalCtrl.dismiss()}),n.k0s()()(),n.j41(3,"ion-content")(4,"ion-list"),n.DNE(5,P,4,3,"ion-item",3),n.k0s()()),2&i&&(n.R7$(5),n.Y8G("ngForOf",c.options))},dependencies:[e.bv,e.Jm,e.W9,e.eU,e.iq,e.uz,e.he,e.nf,e.N7,a.pM,_.Wk],styles:[".drawer-pull[_ngcontent-%COMP%]{background:#d3d3d3;height:4px;width:50px;border-radius:5px}"]})}}return o})();var C=l(7082),v=l(8879),O=l(6863);const M=()=>["Posts","Followers","Following"],b=()=>["Edit Profile","Share Profile"],g=()=>["/p/post"];function k(o,r){if(1&o&&(n.j41(0,"ion-title",9),n.nrm(1,"ion-icon",10),n.EFF(2),n.nrm(3,"ion-icon",11),n.k0s()),2&o){const t=n.XpG();n.R7$(2),n.SpI(" ",t.loggedUser.username," ")}}function I(o,r){if(1&o&&(n.j41(0,"ion-col",30)(1,"ion-label")(2,"strong"),n.EFF(3),n.k0s(),n.j41(4,"p",31),n.EFF(5),n.nI1(6,"translate"),n.k0s()()()),2&o){const t=r.$implicit,i=n.XpG(2);n.R7$(3),n.JRh(i.userInfo[t.toLowerCase()]),n.R7$(2),n.JRh(n.bMT(6,2,t))}}function x(o,r){if(1&o){const t=n.RV6();n.j41(0,"ion-col",37)(1,"ion-button",38),n.bIt("click",function(){const c=n.eBV(t).$implicit,s=n.XpG(3);return n.Njj("Edit Profile"===c?s.editProfile():null)}),n.j41(2,"ion-text",17),n.EFF(3),n.nI1(4,"translate"),n.k0s()()()}if(2&o){const t=r.$implicit;n.R7$(3),n.JRh(n.bMT(4,1,t))}}function G(o,r){1&o&&(n.j41(0,"ion-row",32),n.DNE(1,x,5,3,"ion-col",33),n.j41(2,"ion-col",34)(3,"ion-button",35),n.nrm(4,"ion-icon",36),n.k0s()()()),2&o&&(n.R7$(),n.Y8G("ngForOf",n.lJ4(1,b)))}function R(o,r){if(1&o&&(n.j41(0,"swiper-slide")(1,"ion-col",42),n.nrm(2,"img",43),n.k0s(),n.j41(3,"p",44),n.EFF(4),n.k0s()()),2&o){const t=r.$implicit,i=r.index;n.R7$(2),n.Y8G("src",null==t?null:t.src,n.B4B),n.R7$(2),n.SpI("Highlight ",i,"")}}function $(o,r){if(1&o&&(n.j41(0,"ion-row",39)(1,"swiper-container",40),n.DNE(2,R,5,2,"swiper-slide",41),n.k0s()()),2&o){const t=n.XpG(2);n.R7$(),n.Y8G("slides-per-view",t.slidesPerView),n.R7$(),n.Y8G("ngForOf",t.stories)}}function j(o,r){if(1&o&&(n.j41(0,"ion-segment-button",45),n.nrm(1,"ion-icon",46),n.k0s()),2&o){const t=r.$implicit,i=n.XpG(2);n.Y8G("value",null==t?null:t.value),n.R7$(),n.Y8G("name",i.buttonValue===(null==t?null:t.value)?null==t?null:t.icon:(null==t?null:t.icon)+"-outline")}}function T(o,r){if(1&o){const t=n.RV6();n.j41(0,"div",57),n.bIt("click",function(){n.eBV(t);const c=n.XpG().$implicit,s=n.XpG(4);return n.Njj(s.open(c))}),n.k0s()}if(2&o){const t=n.XpG().$implicit;n.xc7("background-image","url("+(null==t?null:t.src)+")"),n.Y8G("routerLink",n.lJ4(3,g))}}function w(o,r){if(1&o){const t=n.RV6();n.j41(0,"video",58,0),n.bIt("click",function(){n.eBV(t);const c=n.XpG().$implicit,s=n.XpG(4);return n.Njj(s.open(c))}),n.nrm(2,"source",59),n.k0s()}if(2&o){const t=n.XpG().$implicit;n.Y8G("routerLink",n.lJ4(2,g)),n.R7$(2),n.Y8G("src",(null==t?null:t.src)+"#t=0.1",n.B4B)}}function F(o,r){1&o&&n.nrm(0,"ion-icon",60)}function Y(o,r){if(1&o&&(n.j41(0,"div",53),n.DNE(1,T,1,4,"div",54)(2,w,3,3,"video",55)(3,F,1,0,"ion-icon",56),n.k0s()),2&o){const t=r.$implicit;n.R7$(),n.Y8G("ngIf",t&&t.image),n.R7$(),n.Y8G("ngIf",t&&!t.image),n.R7$(),n.Y8G("ngIf",t&&!t.image)}}function N(o,r){if(1&o&&(n.j41(0,"div",51),n.DNE(1,Y,4,3,"div",52),n.nI1(2,"slice"),n.k0s()),2&o){const t=n.XpG(3);n.R7$(),n.Y8G("ngForOf",n.brH(2,1,t.posts,0,t.sliceNum))}}function y(o,r){if(1&o){const t=n.RV6();n.j41(0,"div",53)(1,"video",58,0),n.bIt("click",function(){const c=n.eBV(t).$implicit,s=n.XpG(4);return n.Njj(s.open(c))}),n.nrm(3,"source",59),n.k0s(),n.nrm(4,"ion-icon",60),n.k0s()}if(2&o){const t=r.$implicit;n.R7$(),n.Y8G("routerLink",n.lJ4(2,g)),n.R7$(2),n.Y8G("src",(null==t?null:t.src)+"#t=0.1",n.B4B)}}function X(o,r){if(1&o&&(n.j41(0,"div",51),n.DNE(1,y,5,3,"div",52),n.nI1(2,"slice"),n.k0s()),2&o){const t=n.XpG(3);n.R7$(),n.Y8G("ngForOf",n.brH(2,1,t.reelsByUser,0,t.sliceNum))}}function E(o,r){if(1&o){const t=n.RV6();n.j41(0,"ion-infinite-scroll",61),n.bIt("ionInfinite",function(c){n.eBV(t);const s=n.XpG(3);return n.Njj(s.loadData(c))}),n.nrm(1,"ion-infinite-scroll-content",62),n.nI1(2,"translate"),n.k0s()}2&o&&(n.R7$(),n.Y8G("loadingText",n.bMT(2,1,"Loading more data...")))}function V(o,r){1&o&&n.nrm(0,"div",63)}function B(o,r){if(1&o&&(n.j41(0,"div",47),n.DNE(1,N,3,5,"div",48)(2,X,3,5,"div",48)(3,E,3,3,"ion-infinite-scroll",49)(4,V,1,0,"div",50),n.k0s()),2&o){const t=n.XpG(2);n.Y8G("ngSwitch",t.buttonValue),n.R7$(),n.Y8G("ngSwitchCase","grid"),n.R7$(),n.Y8G("ngSwitchCase","reels"),n.R7$(),n.Y8G("ngIf",t.posts&&t.sliceNum!=t.posts.length),n.R7$(),n.Y8G("ngIf",t.posts&&t.sliceNum==t.posts.length)}}function U(o,r){if(1&o){const t=n.RV6();n.j41(0,"ion-content",12)(1,"ion-grid",13)(2,"ion-row")(3,"ion-col",14)(4,"div",15)(5,"ion-fab",16)(6,"ion-fab-button",17),n.nrm(7,"ion-icon",18),n.k0s()(),n.nrm(8,"img",19),n.k0s()(),n.DNE(9,I,7,4,"ion-col",20),n.k0s(),n.j41(10,"div",21)(11,"p",22),n.EFF(12),n.k0s(),n.j41(13,"p",23),n.EFF(14),n.k0s()(),n.DNE(15,G,5,2,"ion-row",24)(16,$,3,2,"ion-row",25),n.j41(17,"ion-row",26),n.bIt("ionChange",function(c){n.eBV(t);const s=n.XpG();return n.Njj(s.buttonsChanged(c))}),n.j41(18,"ion-segment",27),n.DNE(19,j,2,2,"ion-segment-button",28),n.k0s()()(),n.DNE(20,B,5,5,"div",29),n.k0s()}if(2&o){const t=n.XpG();n.R7$(8),n.Y8G("src",t.userInfo.profile_picture,n.B4B),n.R7$(),n.Y8G("ngForOf",n.lJ4(9,M)),n.R7$(3),n.JRh(t.userInfo.name),n.R7$(2),n.JRh(t.userInfo.bio),n.R7$(),n.Y8G("ngIf",t.loggedUser.id===t.userInfo.id),n.R7$(),n.Y8G("ngIf",t.loggedUser.id===t.userInfo.id&&0!=t.stories.length),n.R7$(2),n.Y8G("value",t.buttonValue),n.R7$(),n.Y8G("ngForOf",t.buttonItems),n.R7$(),n.Y8G("ngIf",t.posts)}}const z=[{path:"",component:(()=>{class o{constructor(t,i,c,s,L){this.modalCtrl=t,this.dataExchanger=i,this.commonFunctions=c,this.route=s,this.dataManager=L,this.stories=[],this.buttonValue="grid",this.buttonItems=[],this.posts=[],this.reelsByUser=[],this.sliceNum=9}ngOnInit(){this.dataManager.getLoggedInUser(t=>{this.loggedUser=t}),this.buttonItems=[{value:"grid",icon:"grid"},{value:"reels",icon:"film"},{value:"photos",icon:"images"}]}ionViewWillEnter(){this.profileId=this.route.snapshot.paramMap.get("id"),this.dataManager.getUserById(this.profileId,t=>{this.userInfo=t}),this.dataManager.getPostsByUserId(this.profileId,t=>{this.posts=t,this.reelsByUser=this.posts.filter(i=>i.userid==this.profileId&&0==i.image),this.userInfo.posts=this.posts.length}),this.dataManager.getStories(t=>{this.stories=t,this.slidesPerView=this.commonFunctions.checkScreen(this.stories.length)})}buttonsChanged(t){this.buttonValue=t.detail.value}options(){var t=this;return(0,f.A)(function*(){const i={component:u,cssClass:"custom-modal"};yield(yield t.modalCtrl.create(i)).present()})()}editProfile(){var t=this;return(0,f.A)(function*(){return yield(yield t.modalCtrl.create({component:h.R,cssClass:"edit-profile-page",componentProps:{userId:1}})).present()})()}open(t){this.dataExchanger.setPost(t)}loadData(t){this.sliceNum!=this.posts.length&&setTimeout(()=>{this.sliceNum+6>this.posts.length?this.sliceNum=this.posts.length:this.sliceNum+=6,t.target.complete()},500)}toggleInfiniteScroll(){this.infiniteScroll.disabled=!this.infiniteScroll.disabled}static{this.\u0275fac=function(i){return new(i||o)(n.rXU(e.W3),n.rXU(C.b),n.rXU(v.k),n.rXU(_.nX),n.rXU(O.j))}}static{this.\u0275cmp=n.VBU({type:o,selectors:[["app-profile"]],viewQuery:function(i,c){if(1&i&&n.GBs(e.Ax,5),2&i){let s;n.mGM(s=n.lsd())&&(c.infiniteScroll=s.first)}},standalone:!0,features:[n.aNF],decls:9,vars:2,consts:[["instaVideo",""],[1,"ion-no-border"],["color","dark","mode","md",4,"ngIf"],["slot","end"],["fill","clear","color","dark"],["slot","icon-only","name","add-circle-outline"],["fill","clear","color","dark",3,"click"],["slot","icon-only","name","menu-outline"],["class","has-header",4,"ngIf"],["color","dark","mode","md"],["name","lock-closed-outline"],["name","chevron-down-outline"],[1,"has-header"],[1,"profileInfo"],["size","3",1,"pfp"],[1,"thumbnail","circle"],["vertical","bottom","horizontal","right"],["color","dark"],["name","add","color","light"],[3,"src"],["size","3","class","ion-text-center",4,"ngFor","ngForOf"],[1,"marginTop","user_info"],[1,"user_name"],[1,"ion-text-justify","user_bio"],["class","marginTop profileActions",4,"ngIf"],["class","hightlights",4,"ngIf"],[1,"images",3,"ionChange"],["mode","md",3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","postsList",3,"ngSwitch",4,"ngIf"],["size","3",1,"ion-text-center"],[1,"label"],[1,"marginTop","profileActions"],["size","5",4,"ngFor","ngForOf"],["size","2"],["expand","block","size","small","fill","outline","color","dark"],["name","person-add-outline",2,"font-size","13px"],["size","5"],["expand","block","size","small","fill","outline","color","dark",3,"click"],[1,"hightlights"],[3,"slides-per-view"],[4,"ngFor","ngForOf"],[1,"circle"],[1,"hightlight-image",3,"src"],[1,"story-title"],[3,"value"],[3,"name"],[1,"postsList",3,"ngSwitch"],["class","photo-grid",4,"ngSwitchCase"],["threshold","50px",3,"ionInfinite",4,"ngIf"],["style","margin-top: 50px",4,"ngIf"],[1,"photo-grid"],["class","post",4,"ngFor","ngForOf"],[1,"post"],["class","image-container",3,"routerLink","background-image","click",4,"ngIf"],["class","video-container","preload","metadata",3,"routerLink","click",4,"ngIf"],["class","video_icon","name","film",4,"ngIf"],[1,"image-container",3,"click","routerLink"],["preload","metadata",1,"video-container",3,"click","routerLink"],["type","video/mp4",3,"src"],["name","film",1,"video_icon"],["threshold","50px",3,"ionInfinite"],["loadingSpinner","bubbles",3,"loadingText"],[2,"margin-top","50px"]],template:function(i,c){1&i&&(n.j41(0,"ion-header",1)(1,"ion-toolbar"),n.DNE(2,k,4,1,"ion-title",2),n.j41(3,"ion-buttons",3)(4,"ion-button",4),n.nrm(5,"ion-icon",5),n.k0s(),n.j41(6,"ion-button",6),n.bIt("click",function(){return c.options()}),n.nrm(7,"ion-icon",7),n.k0s()()()(),n.DNE(8,U,21,10,"ion-content",8)),2&i&&(n.R7$(2),n.Y8G("ngIf",c.loggedUser),n.R7$(6),n.Y8G("ngIf",c.userInfo))},dependencies:[e.bv,e.Jm,e.QW,e.hU,e.W9,e.Q8,e.YW,e.lO,e.eU,e.iq,e.Ax,e.Hp,e.he,e.ln,e.Gp,e.eP,e.IO,e.BC,e.ai,e.Je,e.N7,a.bT,a.pM,a.ux,a.e1,_.Wk,a.P9,p.D9],styles:['ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:1rem}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-bottom:-3px;font-size:15px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:25px}swiper-container[_ngcontent-%COMP%]{width:100%}ion-segment-button[_ngcontent-%COMP%]{--indicator-color: var(--ion-color-dark)}.post[_ngcontent-%COMP%]{width:100%;max-width:150px;height:150px}.video_icon[_ngcontent-%COMP%]{color:#fff!important;position:absolute;right:5px;top:5px;z-index:10;font-size:18px}.profileInfo[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-weight:400;font-size:11px}ion-content[_ngcontent-%COMP%]   ion-grid.profileInfo[_ngcontent-%COMP%]   .user_info[_ngcontent-%COMP%]{margin-left:15px}ion-content[_ngcontent-%COMP%]   ion-grid.profileInfo[_ngcontent-%COMP%]   .user_info[_ngcontent-%COMP%]   .user_name[_ngcontent-%COMP%]{font-weight:700;font-size:13px}ion-content[_ngcontent-%COMP%]   ion-grid.profileInfo[_ngcontent-%COMP%]   .user_info[_ngcontent-%COMP%]   .user_bio[_ngcontent-%COMP%]{font-size:13px;margin:10px 0}ion-content[_ngcontent-%COMP%]   ion-grid.profileInfo[_ngcontent-%COMP%]   .user_info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}ion-content[_ngcontent-%COMP%]   ion-grid.profileInfo[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{text-align:-webkit-center}ion-content[_ngcontent-%COMP%]   ion-grid.profileInfo[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{position:relative;min-width:4rem;min-height:4rem;border-radius:50%;padding:5px}ion-content[_ngcontent-%COMP%]   ion-grid.profileInfo[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}ion-content[_ngcontent-%COMP%]   ion-grid.profileInfo[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:50%;padding:3px;background:linear-gradient(to bottom,#c13584,#e1306c,#fd1d1d,#f56040,#f77737,#fcaf45,#ffdc80);mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude}ion-content[_ngcontent-%COMP%]   ion-grid.profileInfo[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{align-self:center}ion-content[_ngcontent-%COMP%]   ion-grid.profileInfo[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:400}ion-content[_ngcontent-%COMP%]   ion-grid.profileInfo[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400}ion-content[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%]{margin:0 5px;justify-items:center;padding:0;display:grid;grid-gap:1px;grid-template-columns:repeat(3,1fr)}ion-content[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:2px}ion-content[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100%;max-width:150px;height:150px;position:relative}ion-content[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{object-fit:cover}ion-content[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{background-size:cover}ion-content[_ngcontent-%COMP%]   .photo-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}ion-content[_ngcontent-%COMP%]   .noPadding[_ngcontent-%COMP%]{padding:0}']})}}return o})()}];let D=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=n.$C({type:o})}static{this.\u0275inj=n.G2t({imports:[_.iI.forChild(z),_.iI]})}}return o})(),S=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=n.$C({type:o})}static{this.\u0275inj=n.G2t({imports:[a.MD,m.YN,e.bv,D,u]})}}return o})()}}]);